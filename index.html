    <script>
        // –°–°–´–õ–ö–ê –ò–ó –¢–£–ù–ù–ï–õ–Ø (–ù–ï –ó–ê–ë–£–î–¨ –ü–†–û–í–ï–†–ò–¢–¨)
        const API_URL = "https://bef8aeed09e357.lhr.life"; 
        
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.backgroundColor = "#000000";

        // –ë–ê–ó–ê –î–ê–ù–ù–´–• –ë–û–¢–û–í (–î–û–ë–ê–í–õ–ï–ù OTP SUPREME)
        const ALL_BOTS = {
            ax: { 
                n: "AX1 Premium", u: "Only1AXts_bot", i: "üíé", 
                d: "Elite branch of N√òVA. High-speed delivery and premium service for VIP clients." 
            },
            king: { 
                n: "WW King", u: "WorIdWideKing_tsbot", i: "üëë", 
                d: "Global marketplace hub. Wholesale and retail goods worldwide." 
            },
            narvesen: { 
                n: "Narvesen Shop", u: "narvesen05bot", i: "üè™", 
                d: "Northern Europe branch. Specialized for Norway & Estonia." 
            },
            uk: { 
                n: "UK Reserve", u: "UK_National_Reserve_tsbot", i: "üá¨üáß", 
                d: "Official UK stock. Local shipments and fast support." 
            },
            otp: { 
                n: "OTP Supreme", u: "Otpsupreme_bot", i: "üîê", 
                d: "Premium OTP & SMS verification service. Works globally with all major platforms." 
            }
        };

        // –†–ï–ì–ò–û–ù–´ (OTP –î–û–ë–ê–í–õ–ï–ù –í US/GLOBAL)
        const REGIONS = { 
            UK: ['ax', 'king', 'uk'], 
            EU: ['ax', 'king', 'narvesen'], 
            NO: ['narvesen', 'king'], 
            EE: ['narvesen', 'king'], 
            US: ['ax', 'king', 'otp'] // <-- –¢–£–¢ –¢–ï–ü–ï–†–¨ 3 –ë–û–¢–ê
        };

        let currentRegion = 'EU';
        let favorites = [];

        try {
            favorites = JSON.parse(localStorage.getItem('nova_favs')) || [];
        } catch(e) { console.log('LS Error'); }

        function renderShops() {
            const grid = document.getElementById('shop-grid'); 
            grid.innerHTML = '';
            
            // –ï—Å–ª–∏ –±–æ—Ç–æ–≤ –Ω–µ—Ç –≤ —Ä–µ–≥–∏–æ–Ω–µ
            if (!REGIONS[currentRegion]) return;

            REGIONS[currentRegion].forEach(key => {
                const s = ALL_BOTS[key];
                const isFav = favorites.includes(key);
                const d = document.createElement('div'); d.className = 'card';
                d.innerHTML = `
                    <div class="fav-icon" onclick="toggleFav('${key}', event)">${isFav ? '‚ù§Ô∏è' : 'ü§ç'}</div>
                    <span class="card-icon">${s.i}</span><span class="card-name">${s.n}</span>
                `;
                d.onclick = () => openBot(key);
                grid.appendChild(d);
            });
        }

        function toggleFav(key, e) {
            e.stopPropagation();
            const idx = favorites.indexOf(key);
            if (idx > -1) favorites.splice(idx, 1); else favorites.push(key);
            localStorage.setItem('nova_favs', JSON.stringify(favorites));
            if(tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
            renderShops(); renderFavorites();
        }

        function renderFavorites() {
            const c = document.getElementById('page-favorites');
            if (favorites.length === 0) {
                c.innerHTML = `<header><h1>FAVORITES</h1></header><div class="empty-state"><div class="heart-icon">‚ù§Ô∏è</div><div class="empty-title">No favorites yet</div><div class="empty-text">Add shops to your favorites to see them here</div></div>`;
            } else {
                let h = `<header><h1>FAVORITES</h1></header><div class="grid">`;
                favorites.forEach(k => {
                    const s = ALL_BOTS[k];
                    if(s) h += `<div class="card" onclick="openBot('${k}')"><div class="fav-icon" onclick="toggleFav('${k}', event)">‚ù§Ô∏è</div><span class="card-icon">${s.i}</span><span class="card-name">${s.n}</span></div>`;
                });
                h += `</div>`;
                c.innerHTML = h;
            }
        }

        function openBot(k) {
            const b = ALL_BOTS[k];
            document.getElementById('bot-icon').innerText = b.i;
            document.getElementById('bot-name').innerText = b.n;
            document.getElementById('bot-desc').innerText = b.d;
            document.getElementById('launch-bot-btn').onclick = () => tg.openTelegramLink('https://t.me/'+b.u);
            document.getElementById('bot-overlay').style.display = 'block';
        }

        function closeBot() { document.getElementById('bot-overlay').style.display = 'none'; }
        function openModal(id) { document.getElementById(id).style.display = 'block'; }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }
        
        function setRegion(f, c) { 
            currentRegion = c; 
            document.getElementById('current-flag').innerText = f; 
            document.getElementById('current-region').innerText = c; 
            renderShops(); 
            closeModal('region-modal'); 
        }

        async function sync() {
            try {
                const uid = tg.initDataUnsafe?.user?.id || 0;
                const r = await fetch(`${API_URL}/get_balance/${uid}`);
                const d = await r.json();
                document.getElementById('balance').innerText = d.balance.toFixed(2) + " $";
                document.getElementById('status-badge').classList.add('online');
                document.getElementById('status-text').innerText = "ONLINE";
            } catch(e) { 
                document.getElementById('status-badge').classList.remove('online'); 
                document.getElementById('status-text').innerText = "OFFLINE";
            }
        }

        function tab(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            document.getElementById('page-'+id).classList.add('active');
            document.getElementById('nav-'+id).classList.add('active');
            if(tg.HapticFeedback) tg.HapticFeedback.impactOccurred('light');
            if (id === 'favorites') renderFavorites();
        }

        function copy(t, l) {
            const i = document.createElement('input'); i.value = t; document.body.appendChild(i); i.select(); document.execCommand('copy'); document.body.removeChild(i);
            tg.showAlert(l + " copied!");
        }

        if(tg.initDataUnsafe?.user) {
            const u = tg.initDataUnsafe.user;
            document.getElementById('user-name').innerText = u.first_name;
            document.getElementById('user-avatar').innerText = u.first_name[0];
            sync(); 
        }
        renderShops(); renderFavorites(); setInterval(sync, 15000);
    </script>


